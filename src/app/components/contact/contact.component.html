<section class="contact-section">
  <div class="container">
    <div class="section-title">
      <h2>Contact Me</h2>
      <p>Get In Touch</p>
    </div>
    
    <div class="row">
      <div class="col-lg-5">
        <div class="contact-info">
          <div class="contact-card">
            <div class="icon-box">
              <i class="bi bi-geo-alt"></i>
            </div>
            <div class="info">
              <h4>Location:</h4>
              <p>Kurnool â€“ 518002</p>
            </div>
          </div>
          
          <div class="contact-card">
            <div class="icon-box">
              <i class="bi bi-envelope"></i>
            </div>
            <div class="info">
              <h4>Email:</h4>
             <p>chaithanya86&#64;gmail.com</p>
            </div>
          </div>
          
          <div class="contact-card">
            <div class="icon-box">
              <i class="bi bi-phone"></i>
            </div>
            <div class="info">
              <h4>Phone:</h4>
              <p>+91 7569964369</p>
            </div>
          </div>
          
          <div class="social-links mt-4">
            <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
            <a href="#" class="github"><i class="bi bi-github"></i></a>
            <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
          </div>
        </div>
      </div>
      
      <div class="col-lg-7">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          <!-- Success message -->
          <div *ngIf="success" class="alert alert-success alert-dismissible fade show" role="alert">
            Your message has been sent successfully!
            <button type="button" class="btn-close" (click)="resetForm()" aria-label="Close"></button>
          </div>
          
          <!-- Error message -->
          <div *ngIf="error" class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ errorMessage }}
            <button type="button" class="btn-close" (click)="error = false" aria-label="Close"></button>
          </div>
          
          <div class="row">
            <div class="col-md-6 form-group">
              <input 
                type="text" 
                formControlName="name"
                class="form-control" 
                [ngClass]="{ 'is-invalid': submitted && f['name'].errors }"
                placeholder="Your Name">
              <div *ngIf="submitted && f['name'].errors" class="invalid-feedback">
                <div *ngIf="f['name'].errors['required']">Name is required</div>
                <div *ngIf="f['name'].errors['minlength']">Name must be at least 2 characters</div>
              </div>
            </div>
            <div class="col-md-6 form-group mt-3 mt-md-0">
              <input 
                type="email" 
                formControlName="email"
                class="form-control" 
                [ngClass]="{ 'is-invalid': submitted && f['email'].errors }"
                placeholder="Your Email">
              <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                <div *ngIf="f['email'].errors['required']">Email is required</div>
                <div *ngIf="f['email'].errors['email']">Please enter a valid email address</div>
              </div>
            </div>
          </div>
          <div class="form-group mt-3">
            <input 
              type="text" 
              formControlName="subject"
              class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && f['subject'].errors }"
              placeholder="Subject">
            <div *ngIf="submitted && f['subject'].errors" class="invalid-feedback">
              <div *ngIf="f['subject'].errors['required']">Subject is required</div>
            </div>
          </div>
          <div class="form-group mt-3">
            <textarea 
              formControlName="message"
              class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && f['message'].errors }"
              rows="5" 
              placeholder="Message"></textarea>
            <div *ngIf="submitted && f['message'].errors" class="invalid-feedback">
              <div *ngIf="f['message'].errors['required']">Message is required</div>
              <div *ngIf="f['message'].errors['minlength']">Message must be at least 10 characters</div>
            </div>
          </div>
          <div class="text-center mt-4">
            <button 
              type="submit" 
              class="btn btn-primary" 
              [disabled]="loading"
              trackEvent="contact_form_click"
              eventCategory="engagement"
              eventLabel="Contact Form Button">
              <span *ngIf="loading" class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
              Send Message
            </button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- EmailJS Test Component - Remove this in production -->
    <!-- <div class="row mt-5" *ngIf="!environment.production">
      <div class="col-12">
        <app-email-test></app-email-test>
      </div>
    </div> -->
  </div>
</section>
